{% extends "web/base_generic.html" %}

{% block content %}
    <script src="https://hcaptcha.com/1/api.js" async defer></script>
    <div class="max-w-md mx-auto mt-20 p-8 bg-[#1E1E2F] text-white rounded-lg shadow-lg border border-[#0FF6FF]">
        {% if form.non_field_errors %}
            <div class="mb-4 p-3 bg-red-600 text-white rounded">
                {% for error in form.non_field_errors %}
                    <p>{{ error }}</p>
                {% endfor %}
            </div>
        {% endif %}
        <h1 class="text-xl font-bold text-[#0FF6FF] text-center mb-6">Registro de Usuario</h1>
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <div class="flex justify-center mt-4">
                <button
                        class="px-6 py-2 bg-[#9E00FF] text-white rounded-md hover:bg-[#7a00cc] transition h-captcha"
                        data-sitekey="{{ HCAPTCHA_SITE_KEY }}"
                        data-callback="onSubmit"
                        data-size="invisible"
                        type="submit">
                    Registrarse
                </button>
            </div>
            <script>
                function onSubmit(token) {
                    document.querySelector("form").submit();
                }
            </script>
        </form>
    </div>
{% endblock %}
