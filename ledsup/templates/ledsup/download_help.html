{% extends "ledsup/base_generic.html" %}
{% load static %}

{% block title %}
    <title>Guía de uso</title>
{% endblock %}

{% block content %}
    <div class="max-w-5xl mx-auto px-6 py-12 text-white font-sans">

        <!-- Botón de descarga -->
        <div class="text-center mb-12">
            <a href="{% static 'ledsup/descarga/test.exe' %}"
               download="test.exe"
               class="inline-block bg-[#00FFA3] text-black font-semibold py-3 px-6 rounded-lg text-lg shadow-md hover:bg-cyan-400 transition">
                Descargar Instalador (.EXE)
            </a>
            <p class="text-sm text-gray-400 mt-2">Haz clic para descargar la app de escritorio para controlar tus LEDs
                localmente.</p>
        </div>

        <!-- Secciones de explicación -->
        <div class="space-y-10">

            <!-- Configurar un dispositivo -->
            <details class="bg-[#1E293B] p-6 rounded-xl shadow-lg border border-cyan-500">
                <summary class="text-2xl font-bold text-cyan-400 mb-4 cursor-pointer">CONFIGURAR UN DISPOSITIVO
                </summary>
                <div class="mt-4">

                    <p class="mb-4 text-[var(--text-muted)] leading-relaxed">
                        Un <strong>dispositivo</strong> representa un conjunto físico de LEDs conectados a través de una
                        interfaz DMX. Para que pueda ser controlado desde el sistema, debe estar correctamente
                        configurado.
                    </p>

                    <img src="{% static 'ledsup/imagenes/guia_dispositivo.JPG' %}"
                         alt="Formulario de configuración de dispositivo"
                         class="rounded-lg shadow mb-6 max-w-3xl w-full">

                    <ol class="list-decimal ml-6 space-y-3 text-[var(--text)]">
                        <li><strong>Nombre dispositivo:</strong> El nombre que lo identifica en el sistema (por ejemplo:
                            “Luminaria Escenario A”).
                        </li>
                        <li><strong>Número IP:</strong> La IP asignada a la interfaz DMX que controla este dispositivo.
                        </li>
                        <li><strong>Universo:</strong> Número de universo DMX donde está conectado. Por lo general se
                            empieza desde el 0.
                        </li>
                        <li><strong>Tamaño paquetes:</strong> Cantidad de canales que se envían por paquete. Por defecto
                            es 512 (tamaño estándar de un universo DMX).
                        </li>
                        <li><strong>Matriz X / Y:</strong> Tamaño en LEDs de la matriz (por ejemplo, 5x5 si es una
                            cuadrícula).
                        </li>
                        <li><strong>Tipo de LED:</strong> Seleccioná si es RGB o RGBW dependiendo del tipo de tira o
                            luminaria que estés usando.
                        </li>
                    </ol>

                    <p class="mt-6 text-[var(--text-muted)]">
                        Una vez completados los datos, hacé clic en el botón violeta <strong>"Editar Posición de
                        LEDs"</strong> si necesitás mapearlos visualmente. Esto es útil si la distribución física no es
                        rectangular o si se conectaron en orden diferente.
                    </p>

                    <p class="mt-4 text-[var(--text-muted)]">
                        Finalmente, hacé clic en el botón <span class="text-cyan-400 font-semibold">"Guardar"</span>
                        para registrar el dispositivo en el sistema.
                    </p>

                    <div class="mt-8">
                        <a href="{% url 'ledsup:crear_dispositivo' %}" target="_blank"
                           class="inline-block px-6 py-3 bg-cyan-500 text-black font-semibold rounded hover:bg-cyan-600 transition">
                            → Ir a Configurar un Dispositivo
                        </a>
                    </div>
                </div>
            </details>

            <!-- Configurar un showroom -->
            <details class="bg-[#1E293B] p-6 rounded-xl shadow-lg border border-cyan-500">
                <summary class="text-2xl font-bold text-cyan-400 mb-4 cursor-pointer">CONFIGURAR UN SHOWROOM</summary>
                <div class="mt-4">

                    <p class="mb-4 text-[var(--text-muted)] leading-relaxed">
                        Un <strong>showroom</strong> es un grupo de dispositivos que comparten la misma interfaz DMX.
                        Esto permite controlarlos todos al mismo tiempo como si fueran una sola unidad.
                    </p>

                    <p class="mb-4 text-[var(--text-muted)] leading-relaxed">
                        Por ejemplo, si tenés varios tubos LED conectados al mismo universo y querés que todos se
                        iluminen en rojo al mismo tiempo, podés agruparlos en un showroom. Así, en vez de configurarlos
                        uno por uno, podés controlar el conjunto de una sola vez.
                    </p>

                    <img src="{% static 'ledsup/imagenes/guia_showroom.JPG' %}"
                         alt="Formulario de configuración de showroom"
                         class="rounded-lg shadow mb-6 max-w-md w-full mx-auto"
                    >

                    <ol class="list-decimal ml-6 space-y-3 text-[var(--text)]">
                        <li><strong>Nombre showroom:</strong> Es el nombre que te va a permitir identificar el grupo.
                            Por ejemplo: “Escenario Principal”.
                        </li>

                        <li>
                            <strong>Dispositivos:</strong> Seleccioná cuáles dispositivos querés que formen parte del
                            showroom.<br>
                            <span class="text-sm text-gray-400">
                    Para seleccionar más de uno, mantené presionada la tecla <kbd
                                    class="bg-gray-700 text-white px-1 rounded">CTRL</kbd> (o <kbd
                                    class="bg-gray-700 text-white px-1 rounded">CMD</kbd> en Mac) mientras hacés clic.
                </span>
                        </li>
                    </ol>

                    <p class="mt-6 text-[var(--text-muted)]">
                        Una vez hecho esto, podés usar el showroom para aplicar efectos a todos esos dispositivos al
                        mismo tiempo.
                    </p>

                    <div class="mt-8">
                        <a href="{% url 'ledsup:crear_showroom' %}" target="_blank"
                           class="inline-block px-6 py-3 bg-cyan-500 text-black font-semibold rounded hover:bg-cyan-600 transition">
                            → Ir a Configurar un Showroom
                        </a>
                    </div>
                </div>
            </details>

            <!-- Usar el servidor local -->
            <details class="bg-[#1E293B] p-6 rounded-xl shadow-lg border border-cyan-500">
                <summary class="text-2xl font-bold text-cyan-400 mb-4 cursor-pointer">CÓMO USAR EL SERVIDOR LOCAL
                </summary>
                <div class="mt-4 space-y-4 text-[var(--text-muted)] leading-relaxed">
                    <p>
                        Para poder controlar los LEDs desde cualquier parte del mundo, es necesario que el servidor
                        local esté ejecutándose en una computadora conectada a la misma red que las interfaces DMX
                        físicas. Este servidor es el encargado de enviar las señales reales a los LEDs.
                    </p>

                    <p>
                        Una vez descargado el archivo <strong>.exe</strong>, simplemente hacé doble clic para abrirlo.
                        Lo primero que vas a ver es una pantalla con el logo de Leds Up, un mensaje de bienvenida y un
                        botón que dice <strong>“Autenticación Web”</strong>.
                    </p>

                    <!-- Imagen 1 -->
                    <img src="{% static 'ledsup/imagenes/guia_server_1.JPG' %}"
                         alt="Pantalla de inicio del servidor local"
                         class="rounded-lg shadow mb-6 max-w-sm w-full mx-auto">

                    <p>
                        Al hacer clic, se abrirá tu navegador y vas a ingresar a la página de Leds Up para autorizar el
                        acceso del servidor. Si el login es exitoso, se abrirá una nueva ventana.
                    </p>

                    <!-- Imagen 2 -->
                    <img src="{% static 'ledsup/imagenes/guia_server_2.JPG' %}"
                         alt="Ventana del servidor local con estado de conexión"
                         class="rounded-lg shadow mb-6 max-w-md w-full mx-auto">

                    <p>
                        En esta nueva ventana vas a ver tu nombre de usuario, un indicador de estado que inicialmente
                        dirá <strong>“Desconectado”</strong>, y un botón que dice <strong>“Conectar”</strong>. Al
                        presionar ese botón, el servidor quedará en estado <span class="text-green-400 font-semibold">Conectado</span>.
                    </p>

                    <p>
                        Además de mostrarlo en el servidor, la web también va a reflejar el estado actualizado
                        en la barra de navegacion de arriba PC: Conectada/Desconectada, indicando que todo está listo para enviar efectos a los dispositivos LED.
                    </p>

                    <!-- Imagen 3 -->
                    <img src="{% static 'ledsup/imagenes/guia_server_3.JPG' %}"
                         alt="Web mostrando estado de conexión"
                         class="rounded-lg shadow mb-6 max-w-xs w-full mx-auto">

                    </div>
                </div>
            </details>

        </div>
    </div>
{% endblock %}
